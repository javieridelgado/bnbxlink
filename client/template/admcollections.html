<!-- Panel Administration -->
<template name="collSearch">
    <div class="list-group">
        {{#esEach index="collections"}} {{> admCollectionSrch}} {{/esEach}} {{#ifEsInputIsEmpty index="collections"}} {{> admCollectionsAll}} {{/ifEsInputIsEmpty}}
    </div>
    <div class="footer navbar-fixed-bottom">
        <div class="input-group">
            {{> esInput index="panels" class="form-control" placeholder="Search..." }}
            <div class="input-group-btn">
                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i>
                </button>
                <button id="addcollection" class="btn btn-default" type="submit"><i class="glyphicon glyphicon-plus"></i>
                </button>
            </div>
        </div>
    </div>

    {{#contentFor "menu"}} {{> menudetail}} {{/contentFor}}
</template>

<template name="admCollectionsAll">
    {{#each collections}} {{> admCollectionSrch}} {{/each}}
</template>

<template name="admCollectionSrch">
    <div class="col-md-4">
        <div class="thumbnail">
            <div class="caption">
                <h3>{{name}}</h3>
                <p>{{description}}</p>
                <p>
                    <a href="#" id="updCollection" class="btn btn-primary" role="button">Modify</a>
                    <a href="#" id="delCollection" class="btn btn-default" role="button">Delete</a>
                </p>
            </div>
        </div>
    </div>
</template>

<template name="collInsert">
    {{#contentFor "menu"}} {{> menudetail}} {{/contentFor}}
    <div class="container">
        {{> quickForm collection="Collections" id="admCollectionIns" type="insert"}}
    </div>
</template>

<template name="collUpdate">
    {{#contentFor "menu"}} {{> menudetail}} {{/contentFor}}
    <div class="container">
        {{#autoForm collection="Collections" doc=this id="admCollectionUpd" type="update"}}
        <fieldset id='main'>
            {{> afQuickField name='name'}} 
            {{> afQuickField name='description' rows=3}} 
            {{> afQuickField name='expirationTime'}} 
            {{> afQuickField name='lastRefreshDttm'}} {{> afQuickField name='availableOffline'}} {{> afQuickField name='readOnly'}} {{> afQuickField name='socialEnabled'}}
            {{> afQuickField name='sourceType' type='select' options='allowed'}} 
        </fieldset>
        <fieldset id='sourceExcel'>
            {{> afQuickField name='dataInput' rows=3}} 
            <div class='form-group'>
                <label for="outputJSON">JSON Output</label>
                <textarea rows='3' class='form-control' id='outputJSONExcel'></textarea>
            </div>
        </fieldset>
        <fieldset id='sourceCSV'>
            {{> afQuickField name='dataInput' rows=3}} 
            <div class='form-group'>
                <label for="outputJSON">JSON Output</label>
                <textarea rows='3' class='form-control' id='outputJSONCSV'></textarea>
            </div>
        </fieldset>
        <fieldset id='sourcePeopleSoftAdHoc'>
            {{> afQuickField name='psURL'}} 
            {{> afQuickField name='psParameters'}} 
            {{> afQuickField name='psUser'}} 
            {{> afQuickField name='psPassword' type='password'}} 
            <button type="button" class="btn btn-warning" id="psTest">Test</button>
            <textarea rows='3' class='form-control' id='outputJSONPeopleSoft'></textarea>
        </fieldset>
        <fieldset id='sourcePeopleSoftQuery'>
            {{> afQuickField name='psURL'}} 
            {{> afQuickField name='psUser'}} 
            {{> afQuickField name='psPassword' type='password'}} 
            <button type="button" class="btn btn-warning" id="psGetQueries">Get Queries</button>
            {{> afQuickField name='psQuery' type='select'}} 
            <textarea rows='3' class='form-control' id='outputJSONPeopleSoft'></textarea>
        </fieldset>
        <button type="submit" class="btn btn-primary">Update</button>
        {{/autoForm}}
    </div>
</template>